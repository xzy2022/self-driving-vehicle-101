# v0.1 框架记录

## 已完成功能
- 创建 `14_integration_framework/ros_ws` catkin 工作区，预置 `algorithm_manager`、`simulation_bringup`、`experiment_orchestrator` 三个包。
- 通过 YAML 配置（controllers/vehicles/environments/experiments）描述算法、车辆阶段、仿真环境与实验组合关系。
- 提供 Python 节点骨架：
  - `algorithm_switcher.py`：加载控制算法配置，发布当前激活算法并预留 `roslaunch` 调用位。
  - `environment_loader.py`：读取车辆/环境配置并输出选择结果，支持话题切换与参数同步。
  - `experiment_orchestrator.py`：解析实验定义，联动 bringup 与算法切换，并生成基础元数据日志。
- 新建标准 launch 文件（`simulation_bringup.launch`、`algorithm_manager.launch`、`experiment.launch`）作为未来实验的入口。

## 下一步建议
1. **接入现有包**：将 `car_model`、`waypoint_loader`、`pure_persuit` 等包复制/链接到 `ros_ws/src`，并在 bringup launch 中 `<include>` 现有流程。
2. **实现算法进程管理**：在 `algorithm_switcher.py` 中补全对 `roslaunch` 的包名/参数判断，并验证动态切换时的进程退出逻辑。
3. **完善实验日志**：
   - 将 `rosbag record` 与 YAML/CSV 指标写入 `experiment_orchestrator`。
   - 增加实验状态发布（成功/失败、开始/结束时间）。
4. **参数服务化**：增加 ROS service/Action 接口，允许 GUI/CLI 远程触发实验与回滚。
5. **CI/测试**：为三个 Python 节点补上 `rostest` 或 pytest（结合 `rostest` 的 offline mock），确保配置文件格式错误时也能给出清晰提示。
