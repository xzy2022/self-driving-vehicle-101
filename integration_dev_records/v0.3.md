# v0.3 框架记录

## 已完成功能
- 将 `07_control_joints_with_ros_topic` 的核心资源迁移到 `simulation_bringup`：复制带 `gazebo_ros_control` 插件的 `smart_controlled.xacro`、PID 配置 `smart_control_config.yaml`，并通过 `stage07_controlled_car.launch` 自动完成模型加载 + `ros_control` 初始化。
- 集成 `08_control_direction_and_speed` 的 `cmdvel2gazebo` 节点，重写为可参数化的 Python3 版本，并在 `stage08_cmdvel_car.launch` 中串联 Twitst→控制器话题的闭环。
- 新增测试脚本 `tests/stage07_controlled_car.sh`、`tests/stage08_cmdvel_car.sh`，配套 README 更新，统一说明 04~08 阶段的 headless 验证方式。
- `simulation_bringup` README、`vehicles.yaml`、`package.xml`、`CMakeLists.txt` 同步更新，明确阶段能力、安装模型/脚本、依赖关系以及 `session_mode` 的使用方式。

## 下一步建议
1. 在 stage07/08 流程内加入自动化断言（例如监听控制器话题、检查 `/smart/joint_states` 是否发布），将其包装成 `rostest`。
2. 为 `cmdvel2gazebo.py` 增加自动化输入（脚本/rosbag）示例，方便快速验证速度/转角转换是否符合预期。
3. 若要继续复刻 09+ 阶段，可在此基础上引入状态估计节点（`vehicle_pose_and_velocity_updater.py`）并扩充测试脚本。
